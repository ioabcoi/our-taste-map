# 정보 구조 (Information Architecture)

> 최종 수정일: 2026.02.13

## 📋 개요
Our-Taste-Map의 정보 구조를 정의하고, 화면 구성 및 메뉴 체계를 설계하는 문서입니다.

**프로젝트 방향:**
- v1.0: 우리 부부 전용 (단일 화면, 단순한 구조)
- v2.0: 다중 사용자 (로그인, 프로필 관리 추가)

---

## 🗂️ v1.0 사이트 구조

### 전체 구조도

```
Our-Taste-Map
│
├─ 메인 화면 (/)
│  ├─ 지도 뷰 (기본)
│  ├─ 리스트 뷰 (토글)
│  ├─ 필터 영역
│  ├─ 검색 영역
│  └─ 장소 추가 버튼
│
└─ 모달/오버레이
   ├─ 장소 등록 모달
   ├─ 장소 상세 모달
   ├─ 장소 수정 모달
   └─ 사진 확대 모달
```

**특징:**
- ✅ **Single Page Application (SPA)** 구조
- ✅ 로그인 화면 없음 (바로 메인)
- ✅ 별도 페이지 없음 (모달로 처리)
- ✅ 단순하고 직관적

---

## 📱 화면 구성

### 1. 메인 화면 레이아웃

```
┌─────────────────────────────────────────┐
│ Header                                  │ ← 상단 고정
├─────────────────────────────────────────┤
│ Filter & Search Bar                     │ ← 필터/검색 영역
├─────────────────────────────────────────┤
│                                         │
│                                         │
│         Main Content Area               │ ← 지도 or 리스트
│         (Map View / List View)          │
│                                         │
│                                         │
│                                         │
└─────────────────────────────────────────┘
│ [+ 장소 추가] 버튼                      │ ← 플로팅 버튼
└─────────────────────────────────────────┘
```

---

### 2. Header 구성

```
┌─────────────────────────────────────────┐
│ 🗺️ Our-Taste-Map          [지도/리스트] │
│                            [☰ 메뉴]     │
└─────────────────────────────────────────┘
```

**요소:**
- 로고/제목 (왼쪽)
- 지도/리스트 토글 버튼 (오른쪽)
- 햄버거 메뉴 (오른쪽 끝)
  - 데이터 백업
  - 사용 가이드
  - 정보

---

### 3. Filter & Search Bar

```
┌─────────────────────────────────────────┐
│ [🔍 검색: 장소명, 음식, 메뉴...]         │
├─────────────────────────────────────────┤
│ 카테고리: [전체][맛집][카페][멋진 장소]  │
│ 그룹:     [전체][인천][동탄][수원]       │
│ 정렬:     [최신순▼]                     │
└─────────────────────────────────────────┘
```

**정렬 옵션:**
- 최신순 (작성일 기준)
- 방문일순 ⭐
- 별점순
- 이름순

---

### 4. 메인 컨텐츠 - 지도 뷰

```
┌─────────────────────────────────────────┐
│                                         │
│              🗺️                         │
│         (Kakao Map API)                 │
│                                         │
│     🍽️         ☕                       │
│          ✨                             │
│                🍽️                       │
│   ☕                                    │
│              🍽️        ✨              │
│                                         │
│ [📍 현재 위치]                          │
└─────────────────────────────────────────┘
```

**마커 종류:**
- 🍽️ 맛집 (빨강)
- ☕ 카페 (갈색)
- ✨ 멋진 장소 (보라)

**인터랙션:**
- 마커 클릭 → 미리보기 팝업
- 팝업 클릭 → 상세 모달

---

### 5. 메인 컨텐츠 - 리스트 뷰

```
┌─────────────────────────────────────────┐
│ ┌─────────────────────────────────────┐ │
│ │ [사진]  파스타 이야기                │ │
│ │         ⭐⭐⭐⭐⭐ 4.5              │ │
│ │         📅 2024.08.15               │ │
│ │         "크림 파스타 존맛!"         │ │
│ │         경기도 동탄...  🍽️ 맛집    │ │
│ └─────────────────────────────────────┘ │
│ ┌─────────────────────────────────────┐ │
│ │ [사진]  브라운스톤 카페              │ │
│ │         ⭐⭐⭐⭐ 4.0                │ │
│ │         📅 2024.07.20               │ │
│ │         "브런치 맛있음"             │ │
│ │         경기도 동탄...  ☕ 카페     │ │
│ └─────────────────────────────────────┘ │
│ ...                                     │
└─────────────────────────────────────────┘
```

**카드 정보:**
- 대표 사진 (왼쪽)
- 장소명 + 별점
- 방문일 ⭐
- 한줄평
- 주소 + 카테고리 아이콘

---

## 🪟 모달 구조

### 1. 장소 등록 모달

```
┌───────────────────────────────────────┐
│ 장소 등록                         ✕  │
├───────────────────────────────────────┤
│                                       │
│ [탭] 장소 검색 | 직접 입력            │
│                                       │
│ ┌─ 기본 정보 ──────────────────────┐ │
│ │ 장소명: [              ]         │ │
│ │ 주소:   [              ]         │ │
│ │ 카테고리: ○맛집 ○카페 ○멋진장소  │ │
│ └──────────────────────────────────┘ │
│                                       │
│ ┌─ 방문 정보 ──────────────────────┐ │
│ │ 방문일: [2024-08-15] 📅          │ │
│ │ 별점: ⭐⭐⭐⭐⭐                 │ │
│ └──────────────────────────────────┘ │
│                                       │
│ ┌─ 리뷰 ───────────────────────────┐ │
│ │ 한줄평: [                    ]   │ │
│ │ 상세리뷰: [                  ]   │ │
│ │ 추천메뉴: [                  ]   │ │
│ └──────────────────────────────────┘ │
│                                       │
│ ┌─ 사진 (0/10) ────────────────────┐ │
│ │ [+ 사진 추가]                    │ │
│ └──────────────────────────────────┘ │
│                                       │
│ ┌─ 그룹 ───────────────────────────┐ │
│ │ □ 인천  □ 동탄  □ 수원           │ │
│ └──────────────────────────────────┘ │
│                                       │
│              [취소]  [저장]           │
└───────────────────────────────────────┘
```

**섹션별 구성:**
1. 기본 정보 (필수)
2. 방문 정보 (필수)
3. 리뷰 (선택)
4. 사진 (선택)
5. 그룹 (선택)

---

### 2. 장소 상세 모달

```
┌───────────────────────────────────────┐
│                                   ✕  │
│                                       │
│ ┌─ 사진 갤러리 ────────────────────┐ │
│ │     [대표 사진]                  │ │
│ │  [◀] [사진 2/5] [▶]             │ │
│ └──────────────────────────────────┘ │
│                                       │
│ 파스타 이야기                  🍽️    │
│ ⭐⭐⭐⭐⭐ 4.5                      │
│                                       │
│ 📅 방문일: 2024.08.15                │
│ 📝 작성일: 2024.12.01                │
│                                       │
│ 📍 경기도 화성시 동탄...              │
│ 🏷️ 카테고리: 맛집                    │
│ 📌 그룹: 동탄                         │
│                                       │
│ ┌─ 리뷰 ───────────────────────────┐ │
│ │ 💬 "크림 파스타 존맛!"           │ │
│ │                                  │ │
│ │ 상세 리뷰:                       │ │
│ │ "웨이팅 30분 있었지만 그만한     │ │
│ │  가치가 있었음. 크림 소스가..."  │ │
│ │                                  │ │
│ │ 🍴 추천 메뉴:                    │ │
│ │ "크림 파스타, 알리오올리오"      │ │
│ └──────────────────────────────────┘ │
│                                       │
│ [수정] [삭제] [카카오맵에서 보기]     │
└───────────────────────────────────────┘
```

**정보 순서:**
1. 사진 (최상단)
2. 기본 정보 (이름, 별점)
3. 날짜 정보 (방문일 → 작성일)
4. 위치 정보
5. 리뷰
6. 액션 버튼

---

### 3. 사진 확대 모달

```
┌───────────────────────────────────────┐
│                                   ✕  │
│                                       │
│                                       │
│                                       │
│          [확대된 사진]                │
│                                       │
│                                       │
│                                       │
│  [◀]         3 / 5          [▶]      │
│                                       │
└───────────────────────────────────────┘
```

---

## 🧭 네비게이션 구조

### 햄버거 메뉴 (☰)

```
┌─────────────────────┐
│ Our-Taste-Map       │
├─────────────────────┤
│ 🏠 홈               │
│ 📊 통계 (v2.0)      │
│ 💾 데이터 백업      │
│ ❓ 사용 가이드      │
│ ℹ️ 정보             │
├─────────────────────┤
│ 👤 로그인 (v2.0)    │
└─────────────────────┘
```

**v1.0 메뉴:**
- 홈 (새로고침)
- 데이터 백업
- 사용 가이드
- 정보 (버전, 개발자)

**v2.0 추가:**
- 통계
- 프로필
- 로그아웃

---

## 📊 데이터 구조

### 데이터베이스 스키마

```javascript
// Firebase Firestore 구조

collections/
├─ places/
│  └─ {placeId}/
│     ├─ name: string
│     ├─ address: string
│     ├─ category: string ("restaurant" | "cafe" | "spot")
│     ├─ latitude: number
│     ├─ longitude: number
│     ├─ rating: number (0.5 ~ 5.0)
│     ├─ shortReview: string (최대 100자)
│     ├─ detailReview: string (선택)
│     ├─ recommendMenu: string (선택)
│     ├─ photos: string[] (URL 배열)
│     ├─ groups: string[] (그룹명 배열)
│     ├─ visitDate: string ("YYYY-MM-DD")
│     ├─ createdAt: timestamp
│     ├─ updatedAt: timestamp
│     └─ userId: string (v2.0에 추가)
│
└─ groups/
   └─ {groupId}/
      ├─ name: string
      ├─ color: string (hex color)
      ├─ icon: string (emoji)
      ├─ createdAt: timestamp
      └─ userId: string (v2.0에 추가)
```

---

### 데이터 흐름

```
사용자 입력
    ↓
클라이언트 검증
    ↓
Firebase에 저장
    ↓
실시간 업데이트
    ↓
UI 반영
```

---

## 🎨 UI 컴포넌트 계층

### 컴포넌트 구조

```
App
├─ Header
│  ├─ Logo
│  ├─ ViewToggle (지도/리스트)
│  └─ MenuButton
│
├─ FilterBar
│  ├─ SearchInput
│  ├─ CategoryFilter
│  ├─ GroupFilter
│  └─ SortSelector
│
├─ MainContent
│  ├─ MapView
│  │  ├─ KakaoMap
│  │  ├─ Marker (여러 개)
│  │  ├─ MarkerPopup
│  │  └─ CurrentLocationButton
│  │
│  └─ ListView
│     └─ PlaceCard (여러 개)
│        ├─ PlacePhoto
│        ├─ PlaceInfo
│        └─ PlaceActions
│
├─ FloatingButton (장소 추가)
│
└─ Modals
   ├─ PlaceFormModal
   │  ├─ BasicInfoSection
   │  ├─ VisitInfoSection
   │  ├─ ReviewSection
   │  ├─ PhotoSection
   │  └─ GroupSection
   │
   ├─ PlaceDetailModal
   │  ├─ PhotoGallery
   │  ├─ PlaceHeader
   │  ├─ PlaceBody
   │  └─ ActionButtons
   │
   └─ PhotoModal
      └─ ImageViewer
```

---

## 🔄 상태 관리

### 애플리케이션 상태

```javascript
AppState {
  // 뷰 상태
  currentView: "map" | "list",
  
  // 필터 상태
  filters: {
    category: "all" | "restaurant" | "cafe" | "spot",
    groups: string[],
    sortBy: "latest" | "visitDate" | "rating" | "name"
  },
  
  // 검색 상태
  searchQuery: string,
  
  // 데이터
  places: Place[],
  groups: Group[],
  
  // 모달 상태
  modals: {
    placeForm: { isOpen: boolean, mode: "create" | "edit", data?: Place },
    placeDetail: { isOpen: boolean, placeId?: string },
    photo: { isOpen: boolean, photos?: string[], currentIndex?: number }
  },
  
  // 지도 상태
  map: {
    center: { lat: number, lng: number },
    zoom: number,
    selectedMarkerId?: string
  }
}
```

---

## 📱 반응형 설계

### Breakpoints

```css
/* Mobile First */
- Mobile: 0 ~ 767px (기본)
- Tablet: 768px ~ 1023px
- Desktop: 1024px ~
```

### 레이아웃 변화

**Mobile (~ 767px)**
```
┌──────────────┐
│   Header     │
├──────────────┤
│   Filter     │
├──────────────┤
│              │
│              │
│    Content   │
│   (100% 폭)  │
│              │
│              │
└──────────────┘
   [+ 버튼]
```

**Tablet (768px ~ 1023px)**
```
┌──────────────┐
│   Header     │
├──────────────┤
│   Filter     │
├──────────────┤
│              │
│    Content   │
│   (90% 폭)   │
│              │
└──────────────┘
   [+ 버튼]
```

**Desktop (1024px ~)**
```
┌─────────────────────────┐
│       Header            │
├─────────────────────────┤
│       Filter            │
├─────────────────────────┤
│                         │
│      Content            │
│    (최대 1200px)        │
│                         │
└─────────────────────────┘
        [+ 버튼]
```

---

## 🗺️ URL 구조 (v1.0)

### v1.0: 단순 구조

```
/ (홈 - 메인 화면)
```

**이유:**
- SPA 구조
- 모든 기능이 메인 화면에 있음
- 모달로 상세 처리

---

### v2.0: 라우팅 추가 (계획)

```
/ (홈)
/login (로그인)
/signup (회원가입)
/profile (프로필)
/stats (통계)
/place/:id (장소 상세 - 공유용 URL)
```

**공유 URL 예시:**
```
https://our-taste-map.com/place/abc123
→ 해당 장소 중심의 지도 + 상세 정보 표시
```

---

## 🎯 v1.0 vs v2.0 IA 비교

### v1.0 (우리 부부 전용)

```
Our-Taste-Map
│
└─ 메인 화면 (/)
   ├─ 지도 뷰
   ├─ 리스트 뷰
   └─ 모달들
```

**특징:**
- ✅ 극도로 단순
- ✅ 한 페이지에 모든 기능
- ✅ 빠른 접근성

---

### v2.0 (다중 사용자)

```
Our-Taste-Map
│
├─ 로그인 화면 (/login)
│
├─ 회원가입 화면 (/signup)
│
└─ 메인 앱
   ├─ 메인 화면 (/)
   │  ├─ 지도 뷰
   │  ├─ 리스트 뷰
   │  └─ 모달들
   │
   ├─ 프로필 (/profile)
   │  ├─ 내 정보
   │  ├─ 설정
   │  └─ 통계
   │
   ├─ 통계 (/stats)
   │  ├─ 대시보드
   │  └─ 차트
   │
   └─ 공유 페이지 (/place/:id)
      └─ 읽기 전용 상세
```

**추가 요소:**
- ✅ 인증 페이지
- ✅ 프로필 관리
- ✅ 통계 대시보드
- ✅ 공유 페이지

---

## 🎨 색상 & 아이콘 체계

### 카테고리별 색상

```javascript
categories: {
  restaurant: {
    color: "#FF6B6B", // 빨강
    icon: "🍽️"
  },
  cafe: {
    color: "#A0522D", // 갈색
    icon: "☕"
  },
  spot: {
    color: "#9B59B6", // 보라
    icon: "✨"
  }
}
```

### 별점 색상

```javascript
rating: {
  star: "#FFD700",      // 금색
  emptyStar: "#E0E0E0"  // 회색
}
```

### 상태별 색상

```javascript
states: {
  primary: "#4A90E2",    // 파랑 (주요 버튼)
  success: "#27AE60",    // 녹색 (성공)
  warning: "#F39C12",    // 주황 (경고)
  danger: "#E74C3C",     // 빨강 (삭제)
  info: "#3498DB"        // 하늘색 (정보)
}
```

---

## 📝 변경 이력

| 날짜 | 내용 | 작성자 |
|------|------|--------|
| 2026.02.13 | IA 문서 초안 작성 | - |
| 2026.02.13 | v1.0/v2.0 구조 비교 추가 | - |

---

## 💭 추가 논의 사항

### 1. 지도 vs 리스트 기본 뷰
- **제안**: 지도 뷰를 기본으로
- **이유**: 시각적으로 위치 파악 쉬움
- 사용자가 선호도에 따라 토글

### 2. 모바일 우선 설계
- 외출 후 바로 등록하는 경우가 많음
- 모바일 UX 최우선 고려
- PC는 편의 기능 추가

### 3. 플로팅 버튼 위치
- 오른쪽 하단 (일반적)
- 왼쪽 하단도 고려 (지도 UI와 겹치지 않게)

### 4. 필터 펼침/접힘
- 모바일: 기본 접힘, 필요시 펼침
- 데스크톱: 항상 펼침

### 5. 그룹 관리 UI
- v1.0: 간단한 체크박스
- v2.0: 그룹 생성/수정/삭제 UI 추가

---

주요 내용

```
✅ 작성한 섹션
1. 사이트 구조
  v1.0: SPA 단일 페이지
  v2.0: 멀티 페이지 확장
2. 화면 구성
  Header
  Filter & Search
  지도 뷰 / 리스트 뷰
  플로팅 버튼
3. 모달 구조
  장소 등록 모달 (상세 레이아웃)
  장소 상세 모달 (정보 순서)
  사진 확대 모달
4. 데이터 구조
  Firebase 스키마 정의
  places 컬렉션 (방문일 포함!)
  groups 컬렉션
5. UI 컴포넌트 계층
  전체 컴포넌트 트리
  재사용 가능한 구조
6. 반응형 설계
  Mobile / Tablet / Desktop
  Breakpoint 정의
7. 색상 & 아이콘 체계
  카테고리별 색상 (빨강/갈색/보라)
  별점, 상태별 색상
```

---