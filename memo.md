# 맛집 지도 

---

## 맛집 지도 / 리스트

- 카테고리별 커스텀 마커 : 맛집 / 카페 / 여행지를 지도 or 리스트로 볼 수 있음
- 카테고리별로 보기 : 맛집만 보기 / 카페만 보기 / 여행지만 보기 / 즐겨찾기별 보기 -> 지도 or 리스트로 볼 수 있음
- 즐겨찾기 : 인천, 동탄, 수원 등등 내가 그룹별로 맛집 / 카페 / 여행지 저장 가능
- 검색 : 검색한 단어를 기준으로 맛집 이름 or 음식 or 한줄평 보여줌
- 현재 위치 기반 찾기 : 내 주변 맛집 보기
- 별점 : 내가 주는 별점 (⭐~⭐⭐⭐⭐⭐)
- 한줄평 : 별점 옆에 딱 한문장으로 핵심을 적는 칸
- 상세 리뷰 모달 : 마커를 클릭하면 내가 찍은 사진 N장과 별점 추천메뉴 등 내가 기록한 메모 보여주는 영역
- 공유하기 버튼 : 특정 맛집을 지인에게 보낼 때, 그 맛집이 중심이 된 지도 링크를 복사하는 기능.
- 관리자 업데이트 : 필요한 값들을 정리해서 엑셀 파일을 올리면 연동되서 지도 및 리스트 업데이트

### 1. 리액트 구조 제안 (Layered Architecture)

규모가 작으므로 너무 쪼개기보다는 아래와 같이 관심사 분리 정도만 해주면 깔끔합니다.

- Presentation Layer (/components): 지도 뷰, 리스트 아이템, 별점 컴포넌트, 필터 버튼 등 UI 요소.
- Logic Layer (/hooks): 지도 API 호출 로직, 엑셀 데이터 파싱 로직, 필터링 로직 (useMap, usePlaces).
- Data Layer (/assets or /data): 초기 장소 데이터(JSON) 및 엑셀 파싱 유틸리티.

#### 1. 기능 제안 (추가/수정/삭제)

##### 추가하면 좋을 기능

- 카테고리별 커스텀 마커: 맛집, 카페 아이콘을 다르게 해서 지도만 봐도 "아 저긴 카페구나" 알게 하기.
- 현재 위치 기반 찾기: "내 주변 맛집" 버튼을 눌러 지도 중심을 내 위치로 옮기는 기능 (모바일에서 볼 때 아주 유용합니다).
- 한 줄 평(Review): 별점 옆에 딱 한 문장으로 맛집의 핵심(예: "인생 돈가스, 웨이팅 필수")을 적는 칸.
- 상세 리뷰 모달: 마커를 클릭했을 때 별점뿐만 아니라 내가 찍은 사진 1~2장과 "추천 메뉴" 같은 짧은 메모가 나오면 훨씬 풍성해 보여요.
- 공유하기 버튼: 특정 맛집을 지인에게 보낼 때, 그 맛집이 중심이 된 지도 링크를 복사하는 기능.

##### 수정/보완하면 좋을 내용

- 엑셀 업데이트 방식: 엑셀(.xlsx)은 라이브러리 용량이 크고 파싱이 까다로울 수 있어요. 가장 쉬운 건 Google Sheets(구글 스프레드시트) 연동입니다.
- 시트에 데이터를 적으면 JSON으로 바로 받아오거나, CSV로 내려받아 사용하는 방식이 개발하기 훨씬 편합니다.
- 지역별 Sorting 기준: '서울', '부산' 같은 광역 단위도 좋지만, 내가 자주 가는 '강남', '홍대', '제주 동쪽' 처럼 
  **나만의 구역(Zone)**으로 분류하는 게 실제 활용도가 높습니다.

#### 2. 데이터 구조 설계 (Excel/JSON 예시)

엑셀을 올리거나 데이터를 관리할 때 아래와 같은 형식을 추천합니다. 

이 구조가 잡혀야 정렬(Sorting)이 쉬워집니다.
| 이름 | 카테고리 | 지역 | 별점	| 위도(Lat) | 경도(Lng) | 한줄평 |
|------|------|------|------|------|------|------| 
| 블루보틀 | 카페 | 성수 | 4 | 37.544 | 127.044 | 라떼가 맛있음 |
| 몽탄 | 맛집 | 용산 | 5 | 37.538 | 126.972 | 우대갈비 끝판왕 |

#### 3. 화면 기획 (UI/UX)

- 좌측 사이드바: 검색창, 카테고리 필터(맛집/카페/여행지), 지역 선택 드롭다운, 그리고 하단에 조건에 맞는 장소 리스트.
- 우측 전체 화면: 지도 공간. 사이드바에서 장소를 클릭하면 지도가 해당 위치로 스르륵 이동(panTo)하게 만듭니다.

#### 4. 체크리스트 (성공적인 개발을 위해)

- 카카오맵 API 할당량  
  하루 3만~30만 건 무료이므로 혼자 쓰기엔 차고 넘칩니다. 걱정 마세요!
- 좌표(위경도) 구하기  
  주소만 가지고는 지도에 점을 찍을 수 없습니다.  
  엑셀에 주소를 적으면 카카오 API의 **'주소-좌표 변환 서비스(Geocoding)'**를 이용해 좌표로 바꿔주는 로직이 필요합니다.
- 반응형 레이아웃  
  밖에서 맛집을 찾을 때는 폰으로 볼 확률이 높죠?  
  모바일에서는 사이드바가 아래로 내려가거나 숨겨지는 처리가 필요합니다.
- Data  
  엑셀/JSON에 주소 외에 위도(lat), 경도(lng) 값이 포함되어 있는가?  
  지도 API는 주소보다 좌표를 선호합니다.
- Map  
  마커가 겹칠 때 어떻게 보여줄 것인가?  
  '클러스터링(Clustering)' 기능을 쓰면 깔끔합니다.
- Sort  
  '리스트로 보기' 시 거리순/별점순 정렬이 가능한가?  
  정렬 로직 (Array.sort) 추가 필요.
- Search  
  장소명뿐만 아니라 '메뉴'나 '태그'로도 검색되는가?  
  예: '돈가스' 검색 시 돈가스 맛집 노출.

#### 엑셀 연동 구현을 위한 기술 팁

엑셀 파일을 읽어서 JSON으로 변환하려면 xlsx (SheetJS) 라이브러리를 사용하면 아주 간단합니다.

```JavaScript
// 간단한 로직 예시
import * as XLSX from 'xlsx';

const readExcel = (file) => {
  const reader = new FileReader();
  reader.onload = (e) => {
    const data = e.target.result;
    const workbook = XLSX.read(data, { type: 'binary' });
    const sheetName = workbook.SheetNames[0];
    const json = XLSX.utils.sheet_to_json(workbook.Sheets[sheetName]);
    console.log(json); // 이 데이터를 상태(State)에 저장하면 끝!
  };
  reader.readAsBinaryString(file);
};
```

---

## 지금 단계에서 추천하는 순서

### 1. 먼저 핵심 정리부터 (지금 바로)

- 누가 쓸 건지: 둘이서만? 친구들과 공유? 나중에 공개?
- 가장 중요한 기능 3가지만 뽑아보기 - 완성도 있게 만들 것과 v2로 미룰 것 구분
- 데이터는 누가 입력: 둘 다? 한 명만? 역할 분담이 필요한지

### 2. 사용자 플로우 그리기 (IA 전에)

문서 작업보다 먼저, 실제 사용 시나리오를 그려보세요:

- "인천에서 맛집 찾을 때" 어떻게 쓸지
- "새로운 맛집 추가할 때" 단계별로
- "친구한테 공유할 때" 흐름

간단히 포스트잇이나 종이에 박스 그리면서 해도 충분해요.

### 3. IA (Information Architecture)

지금 정리하신 기능 리스트를 구조화:

```
홈 (지도/리스트 토글)
├── 지도 뷰
│   ├── 필터 (카테고리, 즐겨찾기 그룹, 별점)
│   ├── 검색
│   └── 현재위치
├── 리스트 뷰
│   └── (동일한 필터/검색)
└── 관리
    ├── 장소 추가/수정
    └── 엑셀 업로드
```

### 4. 간단한 와이어프레임 (SB 대신)

정식 스토리보드보다는 핵심 화면 3-5개만 
손그림/Figma로:

- 지도 메인 화면
- 상세 모달
- 장소 추가 화면

### 5. 기술 스택 결정 (기획 중간에)

- 프론트: React? Vue?
- 지도: 카카오맵? 네이버맵? Google Maps?
- 백엔드: Firebase? Supabase? 직접 서버?
- 엑셀 연동 방식

### 6. 지금 정리하신 기능에 대한 피드백

#### 덜어낼 것 고려

- 엑셀 업로드 기능: v1에서는 수동 입력만 하고, 데이터 쌓이면 v2에서 추가
- 공유하기: 링크 복사는 생각보다 구현 복잡 - 일단 주소 복사 정도로 시작

#### 더하면 좋을 것

- 방문 날짜 기록: 언제 갔었는지 (리뷰 신뢰도 up)
- 메뉴 가격대: 한줄평에 포함시킬 수도 있지만 따로 있으면 유용
- 재방문 의사: ⭕❌로 간단히

#### 명확히 하면 좋을 것

- "즐겨찾기 그룹"이 지역별인지, 상황별(데이트/혼밥/회식)인지
- 사진은 몇 장까지? 용량 제한은?
- 검색 범위 - 이름만? 주소도? 태그도?

---

## 📁 문서 관리 전략

### 1. /docs 폴더 (Git 버전 관리)

실제 파일로 관리하고 싶은 산출물들

```
our-taste-map/
├── docs/
│   ├── planning/           # 기획 문서
│   │   ├── IA.md          # Information Architecture
│   │   ├── user-flow.md   # 사용자 플로우
│   │   └── features.md    # 기능 명세서
│   ├── design/             # 디자인 가이드
│   │   ├── design-system.md
│   │   ├── wireframes/    # 와이어프레임 이미지
│   │   └── style-guide.md
│   └── development/        # 개발 문서
│       ├── tech-stack.md   # 기술 스택 선정 이유
│       ├── api-spec.md     # API 명세
│       └── db-schema.md    # DB 스키마
```

#### 언제 사용?

- 프로젝트 초기 기획/설계 문서
- 팀원과 공유해야 하는 스펙 문서
- 버전 관리가 필요한 문서
- 나중에 포트폴리오로 보여줄 문서

### 2. Wiki (자유로운 문서)

수시로 업데이트하고 참고하는 문서들

```
📖 Wiki 구조 예시
├── Home (프로젝트 개요)
├── 🎨 디자인
│   ├── 컬러 팔레트
│   ├── 타이포그래피
│   └── 컴포넌트 가이드
├── 💻 개발
│   ├── 개발 환경 세팅
│   ├── 코딩 컨벤션
│   ├── Git 브랜치 전략
│   └── 트러블슈팅
└── 📚 참고 자료
    ├── 유용한 라이브러리
    └── 레퍼런스 사이트
```

#### 언제 사용?

- 개발하면서 알게 된 팁
- 설치/설정 가이드
- 자주 찾아보는 레퍼런스
- 트러블슈팅 기록

### 3. Issues (작업 단위 & 질문)

실제 할 일이나 버그, 논의사항

예시:
- [기획] 즐겨찾기 그룹 구조 결정 #1
- [디자인] 메인 컬러 선정 #2
- [개발] 카카오맵 API 연동 #3
- [버그] 검색 시 한글 입력 오류 #4
- [질문] Firebase vs Supabase 어떤 게 나을까? #5

Labels 활용:
- 기획 디자인 개발 버그 질문 개선

---

## 💡 추천하는 방식

```
🎯 기획 문서
/docs/planning/
├── 01-feature-list.md            # 처음에 정리한 기능 목록
├── 02-user-persona.md            # 누가 쓸 건지
├── 03-user-flow.md               # 사용자 시나리오
├── 04-IA.md                      # 정보 구조
└── wireframes/                   # 와이어프레임 이미지/링크
    ├── main-map.png
    └── detail-modal.png

🎨 디자인 가이드
/docs/design/
├── design-system.md              # 전체 디자인 시스템
├── color-palette.md              # 컬러
├── typography.md                 # 폰트
└── components.md                 # 컴포넌트별 가이드
+ Figma 링크는 README나 Wiki에

💻 개발 문서
/docs/development/
├── tech-decision.md              # 기술 스택 선정 이유
├── folder-structure.md           # 폴더 구조 설명
├── coding-convention.md          # 코딩 규칙
├── api-spec.md                   # API 명세
└── db-schema.md                  # DB 스키마

🤝 협업 규칙
/.github/
├── COMMIT_CONVENTION.md          # 커밋 메시지 규칙
├── BRANCH_STRATEGY.md            # 브랜치 전략
└── PR_TEMPLATE.md                # PR 템플릿 (나중에)
```

---

## 단계적 개발 전략

### Phase 1: 우리 전용 (v1.0)

```
로그인 없음 (또는 하드코딩된 단일 계정)
  ↓
Firebase/Supabase에 데이터 저장
  ↓
모든 데이터는 하나의 컬렉션에
```

#### 장점:
- 빠르게 개발 가능
- 인증 시스템 고민 안 해도 됨
- 핵심 기능에만 집중
- 실제로 써보면서 개선점 발견

### Phase 2: 다중 사용자 (v2.0)

```
회원가입/로그인 추가
  ↓
기존 데이터에 userId 필드만 추가
  ↓
필터링 로직에 userId 조건만 추가
```

#### 마이그레이션 쉬워요:

```javascript
javascript// v1.0 (전체 데이터)
places = getAllPlaces()

// v2.0 (내 데이터만)
places = getPlaces(userId)
```

---

## 실전 개발 로드맵

### ✅ v1.0: 우리 부부 전용

데이터베이스 구조 (미리 확장 가능하게 설계)

```javascript
places: {
  placeId: {
    name: "맛집이름",
    category: "restaurant",
    // userId: "couple_account" // 나중을 위해 주석만
    latitude: 37.xxx,
    photos: [...],
    rating: 4.5,
    createdAt: timestamp
  }
}
```

개발 우선순위:

- 지도 연동
- CRUD (등록/수정/삭제)
- 카테고리/필터
- 검색
- 사진 업로드
- 즐겨찾기 그룹

Skip 할 것:

- ❌ 회원가입/로그인
- ❌ 사용자별 권한 관리
- ❌ 프로필 관리

### ✅ v2.0: 다중 사용자 지원

추가할 것:

```javascript
// 1. 인증 시스템
- Firebase Authentication
- 구글/카카오 소셜 로그인

// 2. DB 스키마 수정
users: {
  userId: {
    name: "홍길동",
    email: "...",
    createdAt: timestamp
  }
}

places: {
  placeId: {
    userId: "user123", // ⭐ 이것만 추가!
    name: "맛집이름",
    // ... 나머지는 동일
  }
}

// 3. 기존 코드 수정
- 모든 쿼리에 userId 필터 추가
- 권한 체크 로직 추가
```

코드 변경 최소화:

```javascript
// Before (v1.0)
const places = await db.collection('places').get()

// After (v2.0)
const places = await db.collection('places')
  .where('userId', '==', currentUser.uid)  // ⭐ 이 한 줄만 추가
  .get()
```

### 💡 핵심 포인트

v1.0 개발할 때 미리 준비하면 좋은 것들

#### 1. DB 구조를 확장 가능하게

```javascript
// ✅ Good - 나중에 userId만 추가하면 됨
{
  name: "맛집",
  category: "restaurant"
}

// ❌ Bad - 나중에 구조 바꾸기 어려움
{
  "우리맛집1": { name: "..." }
}
```

#### 2. 함수를 모듈화

```javascript
// ✅ Good - 나중에 파라미터만 추가
function getPlaces(filters) {
  // v2.0에서 filters에 userId 추가
}

// ❌ Bad - 하드코딩
function getOurPlaces() {
  return db.collection('our_places')...
}
```

#### 3. 환경변수 사용

```javascript
// .env
SINGLE_USER_MODE=true  // v1.0
// SINGLE_USER_MODE=false  // v2.0
```

### 🎯 추천 방향

이렇게 가세요:

#### v1.0: 우리 전용으로 완성 (2-3개월)

- 실제로 쓰면서 버그 잡고 개선
- 포트폴리오로도 충분히 가치 있음

#### 사용하면서 피드백 수집

- "이 기능 불편해" 발견
- "이렇게 바꾸면 좋겠어" 정리

#### v2.0: 다중 사용자 전환 (1-2개월)

- 핵심 로직은 그대로
- 인증 + userId 필터링만 추가
- 베타 테스터 모집 (친구들)

#### v3.0: 실제 서비스화 (선택)

- 도메인 구매
- 성능 최적화
- 마케팅

---